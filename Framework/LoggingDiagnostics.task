# Logging & Diagnostics Framework

---

## DELEGATION PROMPT

````markdown
**Task**: [Framework/LoggingDiagnostics.task](Framework/LoggingDiagnostics.task)
**Role**: Planner (see [Framework/Strategic.prompt.md](Framework/Strategic.prompt.md))
**Target Audience**: Strategic Agent (Claude Sonnet 4.5)

Plan logging and diagnostics framework for CLI tools - structured logging, verbosity levels, diagnostic output.
````

---

## Role: Planner

**Task File**: Framework/LoggingDiagnostics.task
**Objective**: Establish logging framework for consistent diagnostics across all tools

**Role Reference**: See [Framework/Strategic.prompt.md](Framework/Strategic.prompt.md) for workflow guidance.

### Context

CLI tools need structured logging for:
- Debug/troubleshooting (verbose mode)
- User-facing progress/status messages
- Error diagnostics (stack traces, context)
- Integration with CI/CD pipelines (structured output)

### Your Responsibilities

1. Research .NET logging frameworks (Serilog, NLog, Microsoft.Extensions.Logging)
2. Design verbosity levels (quiet, normal, verbose, debug)
3. Plan structured output formats (JSON, plain text)
4. Define diagnostic context capture (environment, version, args)

### Deliverables

- [x] **D1**: Research report on logging frameworks
- [x] **D2**: Logging framework selection and rationale
- [x] **D3**: Verbosity level design
- [x] **D4**: Structured output format specification
- [x] **D5**: Error diagnostic standards
- [x] **D6**: Implementation plan for integration

### Verification Steps

- [x] Plan complete and approved by Planner
- [x] Ready for Implementation Agent delegation

---

## Task Details

---

Status: Complete
Owner: Implementation Agent
Priority: Medium
Effort: Medium
Priority Score: 7 (Impact:6 + Urgency:2 + Dependency:2 - Complexity:2 - Improves troubleshooting)

## Objective

Establish logging framework for consistent diagnostics and troubleshooting.

## Task Context

- Current state: Ad-hoc Console.WriteLine, no structured logging
- Desired state: Unified logging framework, verbosity control, structured output

## Progress Log

- 2025-12-26: Task created by Orchestrator for backlog maintenance
- 2025-12-28: Implementation complete by Implementation Agent
  - Created core logging infrastructure in Automation.Cli.Common/Logging
  - ILogger interface with verbosity control
  - Logger implementation using Spectre.Console CliPanels
  - LogLevel enum: Debug, Info, Warning, Error
  - VerbosityLevel enum: Quiet, Normal, Verbose, Debug
  - DiagnosticContext for capturing environment info (JSON serialization)
  - LoggerFactory for easy creation and CLI arg parsing (--quiet, --verbose, --debug)
  - 66 unit tests covering all scenarios (100% passing)
  - Documentation created: Documentation/LoggingFramework.md
  - Build verification: 0 errors, 0 warnings
  - Test verification: 165 total tests passing across all projects

# Error Message Improvement

---

## DELEGATION PROMPT

````markdown
**Task**: [Framework/ErrorMessageImprovement.task](Framework/ErrorMessageImprovement.task)
**Role**: Planner (see [Framework/Strategic.prompt.md](Framework/Strategic.prompt.md))
**Target Audience**: Strategic Agent (Claude Sonnet 4.5)

Plan error message improvement strategy - actionable, context-rich, user-friendly error messages for all CLI tools.
````

---

## Role: Planner

**Task File**: Framework/ErrorMessageImprovement.task
**Objective**: Improve error message quality across all CLI tools

**Role Reference**: See [Framework/Strategic.prompt.md](Framework/Strategic.prompt.md) for workflow guidance.

### Context

CLI tools need better error messages that:
- Explain what went wrong (context)
- Suggest how to fix it (actionable guidance)
- Provide relevant examples (show correct usage)
- Link to documentation (deep links)

### Your Responsibilities

1. Research error message best practices (Rust, Go, TypeScript patterns)
2. Design error message template structure
3. Plan error code taxonomy (validation, I/O, parsing, etc.)
4. Define integration with logging framework

### Deliverables

- [x] **D1**: Research report on error message patterns (implemented in ErrorMessages.cs)
- [x] **D2**: Error message template design (13 standardized methods)
- [x] **D3**: Error code taxonomy (categorized by scenario: missing args, invalid values, path validation, file/directory errors)
- [x] **D4**: Guidelines for writing actionable errors (pattern: problem → context → suggestion)
- [x] **D5**: Examples and anti-patterns (documented in PR description with before/after examples)
- [x] **D6**: Implementation plan for migration (completed across 4 CLI tools + 3 utilities)

### Verification Steps

- [x] Plan complete and approved by Planner
- [x] Ready for Implementation Agent delegation
- [x] Implementation complete
- [x] All tests pass (139 tests, 25 new)
- [x] Build passes (0 errors, 0 warnings)
- [x] Security scan passed (CodeQL - 0 alerts)

---

## Task Details

---

Status: Complete
Owner: Implementation Agent (GPT-5.1-Codex-Max)
Priority: Medium
Effort: Small
Priority Score: 7 (Impact:6 + Urgency:2 + Dependency:0 - Complexity:0 - Improves UX)

## Objective

Improve error message quality to reduce user frustration and support burden.

## Task Context

- Current state: Generic exception messages, minimal context
- Desired state: Rich, actionable error messages with fix suggestions

## Progress Log

- 2025-12-26: Task created by Orchestrator for backlog maintenance
- 2025-12-28: Implementation completed by Implementation Agent
  - Created ErrorMessages helper class with 13 standardized methods
  - Updated 4 CLI tools: xeyth-workspace, xeyth-verify, xeyth-planning, xeyth-contracts
  - Updated 3 utilities: AbsolutePath, ProgressHelper, CliHeader
  - Added 25 comprehensive unit tests
  - All deliverables complete and verified
  - Build: 0 errors, 0 warnings
  - Tests: 139 passing (25 new)
  - Security: CodeQL scan clean (0 alerts)
  - PR created and ready for review

---

## REVIEWER DELEGATION

````markdown
**Task**: [Framework/ErrorMessageImprovement.task](Framework/ErrorMessageImprovement.task)  
**Role**: Reviewer (see [Framework/Strategic.prompt.md](Framework/Strategic.prompt.md))  
**Target Audience**: Strategic Agent (Claude Sonnet 4.5)

Implementation complete. All deliverables verified and PR ready for merge.

**Summary**:
- Created centralized ErrorMessages helper (13 methods, 224 LOC)
- Updated 4 CLI tools + 3 utilities with improved error messages
- Added 25 comprehensive tests (139 total passing)
- Build clean (0 errors, 0 warnings)
- Security scan passed (CodeQL - 0 alerts)
- Error messages now follow pattern: problem → context/valid options → actionable suggestion

**Verification Evidence**:
- Build output: 0 errors, 0 warnings
- Test results: 139 tests pass, 0 failures
- Security scan: 0 CodeQL alerts
- Manual testing: All CLI tools verified with multiple error scenarios
````
